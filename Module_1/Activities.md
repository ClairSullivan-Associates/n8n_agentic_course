# Module 1 Activities: Foundational Agentic Patterns

In this module we will learn the basics of how to use n8n for basic agentic workflows.  At this point, you should be able to log into n8n.  We will start with a basic chatbot and work on building it out to add more complexity.

## Module 1 Activity 1: Basic Chatbot

We will begin by creating our first workflow.  From the n8n dashboard, click on your Peronsal workspace.  Then click on "New Workflow" in the upper right corner.  This will open a blank workflow.  

![](./pics/new_workflow.jpg)

The first thing to know is that all n8n workflows start with a trigger node.  This is the node that tells n8n when to start the workflow.  For many workflows, we will use the "Manual Trigger" node.  This allows us to manually start the workflow by clicking a button.  However, our first workflow in this course will be a chatbot, so we want to use a chat trigger.  Click the "+" button in the upper right to open the Nodes Panel.  In the node search bar, type "chat" and select the "Chat Trigger" node.

![](./pics/chat_trigger.jpg)

At this point we do not need to adjust any of the parameters or settings for this node so we can return back to the canvas.  Observe in the lower left a chat window has been opened.  It isn't connected to anything (yet!) so it won't do anything, but this is where we will interact with our chatbot.

Now we need to connect our chatbot to an AI.  We will be using the n8n AI Agent for this course.  Click the "+" button again to open the Nodes Panel.  In the search bar, type "AI Agent" and select the "AI Agent" node.  This will then open the AI Agent node, where you will see the following:

![](./pics/ai_agent.jpg)

There are a couple of key things to notice for this node.  First, we can see that the source for the prompt (AKA the user message) is "Connected Chat Trigger Node."  In fact, if you return to the canvas, you will see that the chat trigger node has been connected to the AI agent node.  This means that the agent is waiting for input from the chat window.  Later in this workshop we will not be running our agents based on chat but more sophisticated workflows.  But for this exercise, this is what we want.  Next you will see that the prompt (user message) is set to `{{ $json.chatInput }}`.  We will see in just a second that when we enter a message in the chat window, it will be stored in the variable `chatInput`.  This is how the AI agent node knows what the user said.  

Notice that there is a red asterisk below the AI Agent node next to "Chat Model."  This indicates that this is a required field.  ("Memory" and "Tool" are not required and we will discuss them shortly.)  This means that we need to hook our agent up to a large language model (LLM) to power our chat.  If you click on the "+" symbol there you will see a variety of options for chat models.  In this course, we will largely work with the Google Gemini Chat Model.  So select that model, which will bring up the following screen:

**ADD SECTION ABOUT GETTING CREDENTIALS FOR IT HERE**

![](./pics/gemini_chat_model.jpg)

We are now ready to try it out!  So enter into the chat window "what can you do?"  You should see an output that looks something like this:

![](./pics/first_output.jpg)

There is a lot going on here, so let's disect it!  First, we can see that in the chat window we had returned to us the output of the agent in a nice format, as we would expect.  If you look to the right, we can see important information to the agent, such as the input and the output.  Notice that the input has a few variables.  We see that it has `chatInput`, as we expected from above, which was the thing we asked it.  We can also see that a `sessionId` variable was created.  This is a unique identifier that is used throughout agentic workflows, so it is important to see that it was generated by the chat trigger node.  Finally, we can see the output, which is the response from the AI model.

Now, let's try to ask it "what did I just ask you?"  If you do that, it will likely just repeat the question back to you, having forgotten that you had asked it what it could do before.  This is because the agent has no memory of past interactions yet.  As you likely have guessed, this is what the "Memory" section of the AI Agent node is for.  Click on the "+" symbol next to "Memory" to add memory to the agent.  For this exercise, select "Simple Memory."  This will allow the agent to remember past interactions in the current session.  When we do that, we will see the following:

![](./pics/simple_memory.jpg)

Notice that the memory node requires the `sessionId` variable that we saw earlier.  This is how the memory node knows which session to pull memory from.  Also notice that there is an entry for content length, which defaults to 5.  This means that the memory is set to remember up to 5 interactions ago (although you can set it to whatever you want within the memory limitations of the n8n cloud environment).  Now, if you return to the chat window, tell it your name, and then ask it "what is my name?"  You should see that it is now able to remember your name from the prior interaction!

